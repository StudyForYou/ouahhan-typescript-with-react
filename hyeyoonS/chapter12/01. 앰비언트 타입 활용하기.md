# 1. μ•°λΉ„μ–ΈνΈ νƒ€μ… ν™μ©ν•κΈ°

## 01. μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έ

### μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έμ μλ―Έ?

- νƒ€μ…μ¤ν¬λ¦½νΈμ νƒ€μ… μ„ μ–Έμ€ .ts, .tsx, .d.ts ν™•μ¥μ νμΌμ—μ„ μ„ μ–Έ κ°€λ¥
- .d.tsν™•μ¥μλ¥Ό κ°€μ§„ νμΌμ—μ„ ν•λ” νƒ€μ… μ„ μ–Έ = μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έ
- .d.tsν™•μ¥μ νμΌμ—μ„λ” `νƒ€μ… μ„ μ–Έλ§ ε―, κ°’μ„ ν‘ν„ν•κΈ° ο¥§`

β‡’ **μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–ΈμΌλ΅ κ°’μ„ μ •μν•  μ μ—†μ§€λ§, declareλΌλ” ν‚¤μ›λ“λ΅ μ–΄λ”κ°€μ— μλ°”μ¤ν¬λ¦½νΈ κ°’μ΄ μ΅΄μ¬ν•λ‹¤λ” μ‚¬μ‹¤μ„ μ„ μ–Έν•  μ μλ‹¤!**

### μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έ ν™μ© μ‚¬λ΅€

νƒ€μ…μ¤ν¬λ¦½νΈλ¥Ό μ‚¬μ©ν•λ‹¤ λ³΄λ©΄ .js νΉμ€ .tsκ°€ μ•„λ‹ νμΌμ„ μ„ν¬νΈν•  λ• μ—λ¬κ°€ λ°μƒν•λ‹¤!

β‡’ pngνμΌ λ“±μ„ λ¨λ“λ΅ μ„ν¬νΈν•  λ•, νƒ€μ…μ¤ν¬λ¦½νΈλ” .tsμ™€ .jsνμΌ μ™Έμ ν•μ‹μ„ μΈμ‹ν•μ§€ λ»ν•κΈ° λ•λ¬Έ

β‡’ νƒ€μ…μ¤ν¬λ¦½νΈμ declare ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•μ—¬ νΉμ • ν•μ‹μ„ λ¨λ“λ΅ μ„ μ–Έν•λ©΄ νƒ€μ…μ¤ν¬λ¦½νΈ μ»΄νμΌλ¬μ— λ―Έλ¦¬ μ •λ³΄λ¥Ό μ κ³µν•¨μΌλ΅μ¨ μ—λ¬ μμ •ε―

```tsx
declare module "*.png" {
	const src: string;
	export default src;
}
```

> **π’΅declareμ μ—­ν• μ΄ λ­μ§€?π¤”** 
μ΄λ―Έ μ΅΄μ¬ν•μ§€λ§ νƒ€μ…μ¤ν¬λ¦½νΈκ°€ μ•μ§€ λ»ν•λ” λ¶€λ¶„μ„ μ»΄νμΌλ¬μ—κ² μ•λ ¤μ£Όλ” μ—­ν• !
> 

```tsx
//svg.d.ts

declare module "*.svg?url" {
  const content: string;
  export default content;
}
```

```tsx
//notion-client.d.ts
declare module "notion-client";
```

### μ–Έμ  μ“°λ”κ±°μ§€?

**1. μλ°”μ¤ν¬λ¦½νΈλ΅ μ‘μ„±λ λΌμ΄λΈλ¬λ¦¬?**

μλ°”μ¤ν¬λ¦½νΈλ΅ μ‘μ„±λ λΌμ΄λΈλ¬λ¦¬λ” νƒ€μ… μ„ μ–Έμ΄ μ—†μΌλ―€λ΅ μ„ν¬νΈν• λ¨λ“μ€ λ¨λ‘ anyλ΅ μ¶”λ΅ λλ‹¤. μ΄ λ• λ§μ•½ tsconfig.jsonνμΌμ—μ„ anyλ¥Ό μ‚¬μ©ν•μ§€ λ»ν•κ² μ„¤μ •ν–λ‹¤λ©΄ ν”„λ΅μ νΈ λΉλ“ ο¥§

β‡’ μ΄ λ• `λΌμ΄λΈλ¬λ¦¬ λ‚΄λ¶€ ν•¨μμ™€ λ³€μμ νƒ€μ…μ„ μ•°λΉ„μ–ΈνΈλ΅ μ„ μ–Έ`ν•λ©΄ νƒ€μ…μ¤ν¬λ¦½νΈκ°€ μλ™μΌλ΅ .d.tsν™•μ¥μλ¥Ό κ°€μ§„ νμΌμ„ κ²€μƒ‰ν•μ—¬ νƒ€μ… κ²€μ‚¬λ¥Ό μ§„ν–‰ν•λ―€λ΅ μ»΄νμΌ ε―

ex) @types/reactλ¥Ό  npm install -D λ…λ Ήμ–΄λ΅ μ„¤μΉν•λ©΄ node_modules/@types/reactμ— μλ™μΌλ΅ index.d.tsμ™€ global.d.tsκ°€ μ„¤μΉλκ³ , μ—¬κΈ°μ—λ” λ¦¬μ•΅νΈ μ»΄ν¬λ„νΈμ™€ ν›…μ— λ€ν• νƒ€μ…μ΄ μ •μλμ–΄ μμ

</br>

**2. νƒ€μ…μ¤ν¬λ¦½νΈλ΅ μ‘μ„±λ λΌμ΄λΈλ¬λ¦¬?**

νƒ€μ…μ¤ν¬λ¦½νΈ νμΌμ„ μ§μ ‘ λ°°ν¬ν•λ©΄ λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©μκ°€ νƒ€μ…μ¤ν¬λ¦½νΈλ¥Ό μ»΄νμΌ ν•  λ• λΌμ΄λΈλ¬λ¦¬ μ½”λ“λ„ ν•¨κ» μ»΄νμΌν•κ² ν•¨ β‡’ μ»΄νμΌ μ‹κ°„ μ†μ”ε¤§

β‡’ μ»΄νμΌ μ‹κ°„μ„ μ¤„μ΄κΈ° μ„ν•΄ νƒ€μ…μ¤ν¬λ¦½νΈλ΅ μ‘μ„±λ λΌμ΄λΈλ¬λ¦¬μΌμ§€λΌλ„ `μλ°”μ¤ν¬λ¦½νΈ + .d.tsνμΌ`λ΅ λ°°ν¬λλ” κ²ƒμ΄ μΌλ°μ μ΄λ‹¤!

β‡’ .d.tsνμΌμ— μ •μλ νƒ€μ… μ •λ³΄λ¥Ό ν™μ©ν•μ—¬ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•  μ μκ³ , tsconfig.jsonνμΌμ declareλ¥Ό trueλ΅ μ„¤μ •ν•λ©΄ μλ™μΌλ΅ .d.ts νμΌμ΄ μƒμ„±λ¨

</br>

**3. μλ°”μ¤ν¬λ¦½νΈ μ–΄λ”κ°€μ— μ „μ—­ λ³€μκ°€ μ •μλμ–΄ μμμ„ νƒ€μ…μ¤ν¬λ¦½νΈμ— μ•λ¦΄ λ•**

νƒ€μ…μ¤ν¬λ¦½νΈλ΅ μ§μ ‘ κµ¬ν„ν•μ§€ μ•μ•μ§€λ§ μ‹¤μ  μλ°”μ¤ν¬λ¦½νΈ μ–΄λ”κ°€μ— μ „μ—­ λ³€μκ°€ μ •μλμ–΄ μλ” μƒν™©μ„ νƒ€μ…μ¤ν¬λ¦½νΈμ— μ•λ¦΄ λ•

ex) μ›Ήλ·°λ¥Ό κ°λ°ν•κΈ° μ„ν•΄ λ„¤μ΄ν‹°λΈ μ•±κ³Όμ ν†µμ‹ μ„ μ„ν• μΈν„°νμ΄μ¤λ¥Ό λ„¤μ΄ν‹°λΈ μ•±μ΄ window κ°μ²΄μ— μ¶”κ°€ν•λ” κ²½μ°

- μ „μ—­ κ°μ²΄μΈ windowμ— λ³€μλ‚ ν•¨μλ¥Ό μ¶”κ°€ν•λ©΄ νƒ€μ…μ¤ν¬λ¦½νΈμ—μ„ μ§μ ‘ κµ¬ν„ν•μ§€ μ•μ•λ”λΌλ„ λ°νƒ€μ„ ν™κ²½μ—μ„ ν•΄λ‹Ή λ³€μλ¥Ό μ‚¬μ©ε―
- μ΄ λ• μ „μ—­ κ°μ²΄μ— deviceId, appVersionκ°™μ€ κ°’μ„ ν• λ‹Ήν•΄μ£Όλ” κ²½μ° : Windowκ°μ²΄μ μ†μ„±μ€ νƒ€μ…μ¤ν¬λ¦½νΈλ΅ μ§μ ‘ μ •μν• κ°’μ΄ μ•„λ‹κΈ° λ•λ¬Έμ— νƒ€μ…μ¤ν¬λ¦½νΈλ” ν•΄λ‹Ή μ†μ„±μ΄ Windowκ°μ²΄ νƒ€μ…μ— μ΅΄μ¬ν•μ§€ μ•λ”λ‹¤κ³  νλ‹¨ β‡’ μ΅΄μ¬ν•μ§€ μ•λ” μ†μ„±μ΄λΌλ” μ—λ¬κ°€ λ°μƒν•¨!

 β‡’ global namespaceμ— μλ” Windowκ°μ²΄μ— ν•΄λ‹Ή μ†μ„±μ΄ μ •μλμ–΄ μλ‹¤λ” κ²ƒμ„ λ‚νƒ€λ‚΄κΈ° μ„ν•΄μ„ μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έμ„ μ‚¬μ©ν•  μ μλ‹¤! 

```tsx
declare global {
	interface Window {
		deviceId: string | undefined;
		appVersion: string;
	}
}
```

```tsx
//μΉ΄μΉ΄μ¤ API ν™μ© μμ‹ : kakao μ•μ— μλ§μ€ μ†μ„±μ΄ μκΈ°μ— anyλ΅ μ •μν–λ‹¤
declare global {
  interface Window {
    kakao: any;
  }
}

  const searchPlaceByName = (placeName: string, map: any) => {
    const ps = new window.kakao.maps.services.Places();
    ps.keywordSearch(placeName, (data: any, status: any) => {
      if (status === window.kakao.maps.services.Status.OK) {
        const firstPlace = data[0];
        const center = new window.kakao.maps.LatLng(firstPlace.y, firstPlace.x);
        map.setCenter(center);
        new window.kakao.maps.Marker({
          map: map,
          position: center,
        });
        setInputText(firstPlace.place_name);
      }
    });
  };

  const searchPlaces = () => {
    window.kakao.maps.load(() => {
      const mapContainer = document.getElementById("map");
      const options = {
        center: new window.kakao.maps.LatLng(37.566826, 126.9786567),
        level: 3,
      };
      const map = new window.kakao.maps.Map(mapContainer, options);
      const ps = new window.kakao.maps.services.Places();

      ps.keywordSearch(inputText, (data: Place[], status: Status) => {
        if (status === window.kakao.maps.services.Status.OK) {
          const bounds = new window.kakao.maps.LatLngBounds();
          for (let i = 0; i < data.length; i++) {
            displayMarker(data[i], map);
            bounds.extend(new window.kakao.maps.LatLng(data[i].y, data[i].x));
          }
          map.setBounds(bounds);
        }
      });
    });
  };

  const displayMarker = (place: Place, map: any) => {
    const marker = new window.kakao.maps.Marker({
      map: map,
      position: new window.kakao.maps.LatLng(place.y, place.x),
    });

```

## 02. μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έ μ‹ μ£Όμμ 

### νƒ€μ…μ¤ν¬λ¦½νΈλ΅ λ§λ“λ” λΌμ΄λΈλ¬λ¦¬μ—λ” λ¶ν•„μ”

tsconfig.jsonμ declarationμ„ trueλ΅ μ„¤μ •ν•λ©΄ νƒ€μ…μ¤ν¬λ¦½νΈ μ»΄νμΌλ¬κ°€ .d.tsνμΌμ„ μλ™μΌλ΅ μƒμ„±ν•΄μ£ΌκΈ° λ•λ¬Έμ— μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έμ„ μ‚¬μ©ν•  ν•„μ” X

### μ „μ—­μΌλ΅ νƒ€μ…μ„ μ •μν•μ—¬ μ‚¬μ©ν•  λ•

*μ„λ΅ λ‹¤λ¥Έ λΌμ΄λΈλ¬λ¦¬μ—μ„ λ™μΌν• μ΄λ¦„μ μ•°λΉ„μ–ΈνΈ νƒ€μ…*μ„ μ„ μ–Έν•λ©΄ μ¶©λ κ°€λ¥μ„± ζ‰
μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έμ€ λ…μ‹μ μΈ μ„ν¬νΈλ‚ μµμ¤ν¬νΈκ°€ μ—†κΈ° λ•λ¬Έμ— `μ½”λ“ μμ΅΄μ„±` κ΄€κ³„κ°€ λ…ν™•ν•μ§€ μ•μΌλ―€λ΅ μ£Όμν•΄μ•Ό ν•¨

## 03. μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έμ„ μλ» μ‚¬μ©ν–μ„ λ•μ λ¬Έμ μ 

.tsνμΌ λ‚΄μ—μ„ μ•°λΉ„μ–ΈνΈ λ³€μλ¥Ό μ„ μ–Έν• κ²½μ° β‡’ μμ΅΄μ„± κ΄€κ³„κ°€ λ³΄μ΄μ§€ μ•κΈ° λ•λ¬Έμ— μ–΄λ–¤ μν–¥μ„ λΌμΉ  μ§€ μ• μ X

β‡’ `.d.ts ν™•μ¥μ` νμΌ λ‚΄μ—μ„ μ•°λΉ„μ–ΈνΈ νƒ€μ…μ„ μ„ μ–Έν•λ” κ²ƒμ΄ κµ­λ£°!

## 04. μ•°λΉ„μ–ΈνΈ νƒ€μ… ν™μ©ν•κΈ°

### νƒ€μ…μ„ μ •μν•μ—¬ μ„ν¬νΈ μ—†μ΄ μ „μ—­μΌλ΅ κ³µμ 

.d.tsνμΌμ—μ„μ μ•°λΉ„μ–ΈνΈ νƒ€μ…μ€ μ „μ—­ λ³€μμ™€ κ°™μ€ μ—­ν•  β‡’ λ¨λ“  μ½”λ“ λ‚΄μ—μ„ μ„ν¬νΈ ν•μ§€ μ•κ³  μ‚¬μ© ε―

β‡’ μ•°λΉ„μ–ΈνΈ νƒ€μ…μΌλ΅ μ ν‹Έλ¦¬ν‹° νƒ€μ…μ„ μ„ μ–Έν•λ©΄ λ¨λ“  μ½”λ“μ—μ„ μ„ν¬νΈ μ—†μ΄ μ‚¬μ© ε―.. λ§μΉ λ‚΄μ¥ νƒ€μ… μ ν‹Έλ¦¬ν‹° ν•¨μλ¥Ό μ‚¬μ©ν•λ” κ²ƒκ³Ό κ°™μ€ ν¨κ³Ό!

```tsx
// Ambient TypeμΌλ΅ μ ν‹Έλ¦¬ν‹° νƒ€μ… μ„ μ–Έ
declare type MyUtils = {
  // λ¬Έμμ—΄ λ°°μ—΄μ κΈΈμ΄λ¥Ό μ¶λ ¥ν•λ” μ ν‹Έλ¦¬ν‹° ν•¨μ
  printLength: (arr: string[]) => void;
};

// MyUtilsλ¥Ό μ‚¬μ©ν•μ—¬ λ¬Έμμ—΄ λ°°μ—΄μ κΈΈμ΄λ¥Ό μ¶λ ¥ν•λ” ν•¨μ
const myUtils: MyUtils = {
  printLength: (arr) => {
    console.log("λ°°μ—΄μ κΈΈμ΄λ”:", arr.length);
  },
};

// ν…μ¤νΈλ¥Ό μ„ν• λ¬Έμμ—΄ λ°°μ—΄
const colors = ["red", "green", "blue"];

// λ¬Έμμ—΄ λ°°μ—΄μ κΈΈμ΄ μ¶λ ¥ν•κΈ°
myUtils.printLength(colors); // μ¶λ ¥: λ°°μ—΄μ κΈΈμ΄λ”: 3
```

### declare type ν™μ©ν•κΈ°

λ³΄νΈμ μΌλ΅ λ§μ΄ μ‚¬μ©ν•λ” μ»¤μ¤ν…€ μ ν‹Έλ¦¬ν‹° νƒ€μ…μ„ declare typeμΌλ΅ μ„ μ–Έν•΄μ„ μ „μ—­μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤.

```tsx
declare type Nullable<T> = T | null;

const name: Nullable<string> = "woowa";
```

### declare module ν™μ©ν•κΈ°

```tsx
// axios λΌμ΄λΈλ¬λ¦¬μ νƒ€μ…μ„ μ •μν•κΈ° μ„ν• declare λ¨

declare module "axios" {
  // AxiosResponseμ™€ AxiosError νƒ€μ… μ¬μ •μ
  export interface AxiosResponse<T = any> {
    data: T;
    status: number;
    statusText: string;
    headers: any;
  }

  export interface AxiosError<T = any> extends Error {
    config: AxiosRequestConfig;
    code?: string;
    response?: AxiosResponse<T>;
    isAxiosError: boolean;
    toJSON: () => object;
  }

  // AxiosRequestConfig νƒ€μ… μ¬μ •μ
  export interface AxiosRequestConfig {
    url?: string;
    method?: string;
    baseURL?: string;
    headers?: any;
    params?: any;
    data?: any;
    timeout?: number;
    responseType?: string;
  }

  // Axios λ¨λ“ ν•¨μ μ¬μ •μ
  export function request<T = any>(config: AxiosRequestConfig): Promise<AxiosResponse<T>>;
}

// axios λ¨λ“ κ°€μ Έμ¤κΈ°
import axios from "axios";

// HTTP GET μ”μ²­ λ³΄λ‚΄κΈ°
axios.request({
  url: "https://jsonplaceholder.typicode.com/posts/1",
  method: "get",
})
  .then((response) => {
    console.log("μ‘λ‹µ λ°μ΄ν„°:", response.data);
  })
  .catch((error) => {
    console.error("μ—λ¬ λ°μƒ:", error);
  });
```

**`AxiosResponse`**, **`AxiosError`**, **`AxiosRequestConfig`** λ“±μ νƒ€μ…μ„ λ¨λ“λ΅ μ¬μ •μν•¨


### declare namespace ν™μ©ν•κΈ°

node.jsν™κ²½μ—μ„ .envλ¥Ό μ‚¬μ©ν•  λ• declare namespaceλ¥Ό ν™μ©ν•λ©΄ process.envλ΅ μ„¤μ •κ°’μ„ μ†μ‰½κ² λ¶λ¬μ¤κ³  ν™κ²½ λ³€μμ μλ™ μ™„μ„± κΈ°λ¥ μ‚¬μ©ε―

```tsx
declare namespace NodeJS {
	interface ProcessEnv {
		readonly API_URL: string;
		readonly API_INTERNAL_URL: string;
	}
}
```

β‡’ μ΄λ ‡κ² ν•λ©΄ process.envλ¥Ό ν†µν•΄ μ ‘κ·Όν•λ” λ³€μ λν• νƒ€μ…μ„ μ§€μ •ν•  μ μκΈ° λ•λ¬Έμ— as λ‹¨μ–Έμ„ μ‚¬μ©ν•μ§€ μ•μ•„λ„ λλ‹¤.

```tsx
//.env
//1. namespaceλ¥Ό ν™μ©ν•μ§€ μ•μ€ κ²½μ°
API_URL = "localhost:8080";

log(process.env.API_URL as string);
```

```tsx
//.env
//2. namespaceλ¥Ό ν™μ©ν• κ²½μ°
API_URL = "localhost:8080";

declare namespace NodeJS {
	interface ProcessEnv {
		readonly API_URL: string;
	}
}

log(process.env.API_URL);
```

### declare global ν™μ©ν•κΈ°

declare globalν‚¤μ›λ“λ” μ „μ—­ λ³€μλ¥Ό μ„ μ–Έν•  λ• μ‚¬μ©ν•λ‹¤.

```tsx
//μ „μ—­ λ³€μμΈ Windowκ°μ²΄μ μ¤μ½”ν”„μ—μ„ μ‚¬μ©λλ” λ¨λ“μ΄λ‚ λ³€μλ¥Ό μ¶”κ°€ν•λ” μμ‹
declare global {
  interface Window {
    nameProperty: string;
  }
}
```

```tsx
//μ „μ—­ λ³€μμΈ Windowκ°μ²΄μ μ¤μ½”ν”„μ—μ„ μ‚¬μ©λλ” λ¨λ“μ΄λ‚ λ³€μ μ¶”κ°€ μμ‹2 μ½”λ“ μλ™μ™„μ„± κΈ°λ¥ μ‚¬μ©ε―

declare global {
	interface Window {
		webkit?: {
			messageHandler?: Record<
				string,
				{
					postMessage?: (parameter: string) => void
				}
			>;
		};
	}
}
```

β‡’  μ΄ κ²½μ°μ— μλ™ μ™„μ„± κΈ°λ¥μΌλ΅ messageHandlerλ¥Ό μ¶”κ°€ν•  κ²ƒμΈμ§€ λ¬Όμ–΄λ³Έλ‹¤!

### declareμ™€ λ²λ“¤λ¬μ μ‹λ„μ§€

declare globalλ΅ μ •λ… λ³€μ μ„ μ–Έ + λ²λ“¤λ¬λ΅ λ°μ΄ν„° μ£Όμ… β‡’ μ‹λ„μ§€!

β€¦.?μ–΄λ ¤μ›΅
