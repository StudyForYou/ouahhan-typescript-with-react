## 5-4. ë¶ˆë³€ ê°ì²´ íƒ€ì…ìœ¼ë¡œ í™œìš©í•˜ê¸°

### 1. Atom ì»´í¬ë„ŒíŠ¸ì—ì„œ theme style ê°ì²´ í™œìš©í•˜ê¸°

Atom ë‹¨ìœ„ì˜ ì‘ì€ ì»´í¬ë„ŒíŠ¸(Button ë“±)ì€ ìŠ¤íƒ€ì¼ì„ propsë¡œ ë§ì´ ë°›ëŠ”ë°, ìŠ¤íƒ€ì¼ ê°’ì„ theme ê°ì²´ë¡œ ë‘ê³  ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

```ts
const colors = {
  black: "#000000",
  gray: "#222222",
  white: "#FFFFFF",
  mint: "#2AC1BC",
};

const theme = {
  colors: {
    default: colors.gray,
    ...colors,
  },
  backgroundColor: {
    default: colors.white,
    gray: colors.gray,
    mint: colors.mint,
    black: colors.black,
  },
  fontSize: {
    default: "16px",
    small: "14px",
    large: "18px",
  },
};
```

```ts
/**
 * ğŸš¨ Before
 * fontSize, backgroundColorì˜ íƒ€ì…ì„ stringìœ¼ë¡œ ì„¤ì •í•¨
 * ë”°ë¼ì„œ propsë¡œ ë„˜ê²¨ì£¼ëŠ” theme í‚¤ ê°’ì´ ìë™ ì™„ì„±ë˜ì§€ ì•Šìœ¼ë©°, ì˜ëª»ëœ ê°’ì„ ë„£ì–´ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
 * ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ theme ê°ì²´ë¡œ íƒ€ì…ì„ êµ¬ì²´í™”í•  í•„ìš”ê°€ ìˆë‹¤.
 */ 
interface Props {
  fontSize?: string;
  backgroundColor?: string;
  color?: string;
  onClick: (event: React.MouseEvent<HTMLButtonElement>) => void | Promise<void>;
}

const Button: FC<Props> = ({ fontSize, backgroundColor, color, children }) => {
  return (
    <ButtonWrap
      fontSize={fontSize}
      backgroundColor={backgroundColor}
      color={color}
    >
      {children}
    </ButtonWrap>
  );
};

// 
const ButtonWrap = styled.button<Omit<Props, "onClick">>`
  color: ${({ color }) => theme.color[color ?? "default"]};
  background-color: ${({ backgroundColor }) =>
    theme.bgColor[backgroundColor ?? "default"]};
  font-size: ${({ fontSize }) => theme.fontSize[fontSize ?? "default"]};
`;
```

#### ê³¼ì • 1. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ keyof ì—°ì‚°ìë¡œ ê°ì²´ì˜ í‚¤ ê°’ì„ íƒ€ì…ìœ¼ë¡œ ì¶”ì¶œí•˜ê¸°

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ keyof ì—°ì‚°ìëŠ” **ê°ì²´ íƒ€ì…**ì„ ë°›ì•„ í•´ë‹¹ ê°ì²´ì˜ í‚¤ ê°’ì„ (string ë˜ëŠ” number)ì˜ ë¦¬í„°ëŸ´ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ë°˜í™˜í•œë‹¤. 
ê°ì²´ íƒ€ì…ì— ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ì˜ í‚¤ íƒ€ì…ì„ ë°˜í™˜í•œë‹¤.

```ts
// ì˜ˆì‹œ
interface ColorType {
  red: string;
  green: string;
  blue: string;
}
type ColorKeyType = keyof ColorType; // "red" | "green" | "blue"
```

#### ê³¼ì • 2. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ typeof ì—°ì‚°ìë¡œ ê°’ì„ íƒ€ì…ìœ¼ë¡œ ë‹¤ë£¨ê¸°

ê°ì²´ë¥¼ keyof ì—°ì‚°ìê°€ ë°›ëŠ” ê°ì²´ íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•˜ë ¤ë©´ typeof ì—°ì‚°ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” typeofê°€ íƒ€ì…ì„ ì¶”ì¶œí•˜ê¸° ìœ„í•œ ì—°ì‚°ìë¡œ ì‚¬ìš©ëœë‹¤ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” typeofê°€ ë³€ìˆ˜ í˜¹ì€ ì†ì„±ì˜ íƒ€ì…ì„ ì¶”ë¡ í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ typeofëŠ” ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©ë˜ê¸° ë³´ë‹¤ëŠ” ì£¼ë¡œ ReturnType, keyof ë“± ë‹¤ë¥¸ ìœ í‹¸ë¦¬í‹° íƒ€ì… í˜¹ì€ ì—°ì‚°ìì™€ í•¨ê»˜ ì“°ì¸ë‹¤.

```ts
const colors = {
  red: "#F45452",
  green: "#0C952A",
  blue: "#1A7CFF",
};

type ColorsType = typeof colors; // { red: string; green: string; blue: string; }
```

#### ê²°ê³¼. ê°ì²´ì˜ íƒ€ì…ì„ í™œìš©í•´ì„œ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„í•˜ê¸°

```ts
/**
 * âœ… After
 * color, backgroundColor, fontSize propsì˜ íƒ€ì…ì„ theme ê°ì²´ì—ì„œ ì¶”ì¶œí•œë‹¤.
 */ 
type ColorType = keyof typeof theme.colors; // "default" | "black" | "gray" | "white" | "mint"
type BackgroundColorType = keyof typeof theme.backgroundColor; // "default" | "gray" | "mint" | "black"
type FontSizeType = keyof typeof theme.fontSize; // "default" | "small" | "large"

interface Props {
  color?: ColorType; 
  backgroundColor?: BackgroundColorType;
  fontSize?: FontSizeType;
  onClick: (event: React.MouseEvent<HTMLButtonElement>) => void | Promise<void>;
}
```
