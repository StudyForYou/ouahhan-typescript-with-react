## 8-3. ì •ë¦¬

ì§€ê¸ˆê¹Œì§€ Select ì»´í¬ë„ŒíŠ¸ì— ì ìš©í•œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ í™œìš©ë²•ì„ ì •ë¦¬í•´ë³´ì.

```tsx
// ğŸ“ ì»´í¬ë„ŒíŠ¸ì— ì‚¬ìš©ë˜ëŠ” ìŠ¤íƒ€ì¼ ì •ì˜
export const theme = {
  fontSize: {
    default: "16px",
    small: "14px",
    large: "18px",
  },
  color: {
    white: "#FFFFFF",
    black: "#000000",
  },
};

type Theme = typeof theme;
export type FontSize = keyof Theme["fontSize"];
export type Color = keyof Theme["color"];
```

```ts
// ğŸ“ StyledSelect ìŠ¤íƒ€ì¼ë“œ ì»´í¬ë„ŒíŠ¸ ì •ì˜
interface SelectStyleProps {
  color: Color;
  fontSize: FontSize;
}

const StyledSelect = styled.select<SelectStyleProps>`
  color: ${({ color }) => theme.color[color]};
  fontsize: ${({ fontSize }) => theme.fontSize[fontSize]};
`;
```

```ts
// ğŸ“ Select ì»´í¬ë„ŒíŠ¸ ì •ì˜
type ReactSelectProps = React.ComponentPropsWithoutRef<"select">;
interface SelectProps<OptionType extends Record<string, string>>
  extends Partial<SelectStyleProps> {
  id?: ReactSelectProps["id"];
  className?: ReactSelectProps["className"];
  options: OptionType;
  selectedOption?: keyof OptionType;
  onChange?: (selected?: keyof OptionType) => void;
}

export const Select = <OptionType extends Record<string, string>>({
  className,
  id,
  options,
  onChange,
  selectedOption,
  fontSize = "default",
  color = "black",
}: SelectProps<OptionType>) => {
  const handleChange: React.ChangeEventHandler<HTMLSelectElement> = (e) => {
    const selected = Object.entries(options).find(
      ([, value]) => value === e.target.value,
    )?.[0];
    onChange?.(selected);
  };

  return (
    <StyledSelect
      id={id}
      className={className}
      fontSize={fontSize}
      color={color}
      onChange={handleChange}
      value={selectedOption && options[selectedOption]}
    >
      {Object.entries(options).map(([key, value]) => (
        <option key={key} value={value}>
          {value}
        </option>
      ))}
    </StyledSelect>
  );
};
```

```ts
// ğŸ“ Select ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ì²˜
const fruits = {
  apple: "ì‚¬ê³¼",
  banana: "ë°”ë‚˜ë‚˜",
  blueberry: "ë¸”ë£¨ë² ë¦¬",
};
type Fruit = keyof typeof fruits;

export const FruitSelect = () => {
  const [fruit, changeFruit] = useState<Fruit | undefined>();

  return (
    <Select
      className="fruitSelectBox"
      options={fruits}
      onChange={changeFruit}
      selectedOption={fruit}
      fontSize="large"
    />
  );
};
```
