## 5-3. ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° íƒ€ì… í™œìš©í•˜ê¸°

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” Pick, Omit ë“±ì˜ ìœ í‹¸ë¦¬í‹° íƒ€ì…ì„ ì œê³µí•˜ì§€ë§Œ, ì´ê²ƒë§Œìœ¼ë¡œëŠ” í•œê³„ê°€ ìˆëŠ” ê²½ìš° **ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° íƒ€ì…**ì„ ì œì‘í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### 1. Pick ìœ í‹¸ë¦¬í‹° íƒ€ì… í™œìš©

```ts
import { Props } from '../HrComponent.tsx';

// ì»´í¬ë„ŒíŠ¸ Propsì—ì„œ ìŠ¤íƒ€ì¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ìŠ¤íƒ€ì¼ ì†ì„± íƒ€ì…ë§Œ ê³¨ë¼ë‚´ ì‚¬ìš©
type StyledProps = Pick<Props, "height" | "color" | "isFull">;

const HrComponent = styled.hr<StyledProps>`
  height: ${({ height }) = > height || "10px"};
  margin: 0;
  background-color: ${({ color }) = > colors[color || "gray7"]};
  border: none;
  ${({ isFull }) => isFull && css`
    margin: 0 -15px;
  `}
`;
```

### 2. PickOne ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° íƒ€ì…

#### âš ï¸ ë¬¸ì œ ìƒí™©

```ts
type Card = {
  card: string;
};
type Account = {
  account: string;
};

function withdraw(type: Card | Account) {
  /* ... */
}

withdraw({ card: "hyundai", account: "hana" });
```

ì´ì™€ ê°™ì´ Card, Account ì¤‘ í•˜ë‚˜ì˜ ê°ì²´ë§Œ ë°›ê³  ì‹¶ì€ ìƒí™©ì—ì„œ ë‘ íƒ€ì…ì„ ìœ ë‹ˆì˜¨ìœ¼ë¡œ í•˜ë©´,
êµ¬ì¡°ì  íƒ€ì´í•‘ìœ¼ë¡œ ì¸í•´ card, account í”„ë¡œí¼í‹°ë¥¼ ëª¨ë‘ ê°€ì§„ ê°ì²´ ì—­ì‹œ Cardì™€ Account íƒ€ì…ì— ì†í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì›í•˜ëŠ” ëŒ€ë¡œ ì—„ë°€íˆ íƒ€ì… ê²€ì‚¬ë¥¼ í•  ìˆ˜ ì—†ë‹¤.

#### âš ï¸ í•´ê²° ë°©ë²•1) ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨

```ts
type Card = {
  type: "card"; // íŒë³„ì ì¶”ê°€
  card: string;
};
type Account = {
  type: "account"; // íŒë³„ì ì¶”ê°€
  account: string;
};

function withdraw(type: Card | Account) {
  /* ... */
}

withdraw({ type: "card", card: "hyundai" });
withdraw({ type: "account", account: "hana" });
```

ê¸°ëŠ¥ì€ í•˜ì§€ë§Œ,
ì´ë¯¸ êµ¬í˜„ëœ ìƒíƒœì—ì„œ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨ì„ ì ìš©í•˜ë ¤ë©´ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì„ ëª¨ë‘ ìˆ˜ì •í•  í•„ìš”ê°€ ìˆì–´ì„œ, ë¶ˆí¸í•¨ê³¼ íœ´ë¨¼ì—ëŸ¬ ê°€ëŠ¥ì„±ì´ ìˆë‹¤.

#### âœ… í•´ê²° ë°©ë²•2) PickOne

- ëª©ì 
  - accountë¥¼ ê°–ê³  ìˆìœ¼ë©´ cardë¥¼ ê°–ì§€ ëª»í•˜ê³ , cardë¥¼ ê°–ê³  ìˆìœ¼ë©´ accountë¥¼ ê°–ì§€ ëª»í•˜ê²Œ í•˜ëŠ” ê²ƒ
  - **ì¦‰, í•˜ë‚˜ì˜ ì†ì„±ì´ ìˆì„ ë•Œ ë‹¤ë¥¸ ì†ì„±ë“¤ì€ ì˜µì…”ë„í•œ undefined ê°’ìœ¼ë¡œ ì§€ì •í•˜ëŠ” ê²ƒ**

- ê²°ê³¼ë¬¼
```ts
type PickOne<T> = {
  [P in keyof T]: Record<P, T[P]> & Partial<Record<Exclude<keyof T, P>, undefined>>;
}[keyof T];
```

### 3. NonNullable ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

#### 1) NonNullable ìœ í‹¸ë¦¬í‹° íƒ€ì…
- ëª©ì 
  - ì œë„¤ë¦­ Tê°€ null ë˜ëŠ” undefinedì¼ ë•Œ neverë¥¼ ë°˜í™˜í•˜ê³ ,
  - ê·¸ ì™¸ì—ëŠ” Të¥¼ ë°˜í™˜í•˜ì—¬ null ë˜ëŠ” undefinedì˜ ê²½ìš°ë¥¼ ì œì™¸í•˜ê¸° ìœ„í•¨
- ê²°ê³¼ë¬¼
```ts
type NonNullable<T> = T extends null | undefined ? never : T;
```

#### 2) NonNullable ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ 
```ts
function NonNullable<T>(value: T): value is NonNullable<T> {
  return value !== null && value !== undefined;
}
```

#### 3) ğŸ‘£ Promise.allì— í™œìš©í•˜ê¸°

```ts
const shopList = [
  { shopNo: 100, category: "chicken" },
  { shopNo: 101, category: "pizza" },
  { shopNo: 102, category: "noodle" },
];

// 1. API í•¨ìˆ˜ì—ì„œ error ì‹œ nullì„ ë°˜í™˜í•˜ê³  ìˆë‹¤.
class AdCampaignAPI {
  static async operating(shopNo: number): Promise<AdCampaign[]> {
    try {
      return await fetch(`/ad/shopNumber=${shopNo}`);
    } catch (error) {
      return null;
    }
  }
}

// 2. ë”°ë¼ì„œ shopAdCampaignListì€ (AdCampaign | null)[] ë¡œ ì¶”ë¡ ëœë‹¤.
const shopAdCampaignList = await Promise.all(
  shopList.map((shop) => AdCampaignAPI.operating(shop.shopNo))
);
```

```ts
// ğŸš¨ ë‹¨ìˆœí•˜ê²Œ boolean í•„í„°ë§í•˜ëŠ” ê²ƒì€ íƒ€ì… ê°€ë“œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.
// (ğŸŒŸ TSëŠ” Array.prototype.filter ë©”ì†Œë“œê°€ íƒ€ì… ê°€ë“œê°€ ë”°ë¡œ ì—†ìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì›ë˜ ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œë¥¼ í¬í•¨í•˜ëŠ” ìƒˆ ë°°ì—´ì„ ë°˜í™˜í•œë‹¤ê³  ê°€ì •í•œë‹¤ê³  í•œë‹¤)
const shopAds = shopAdCampaignList.filter((shop) => !!shop);

// âœ… ë”°ë¼ì„œ NonNullable ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ í™œìš©í•œ íƒ€ì… ê°€ë“œë¥¼ í†µí•´ nullì„ í•„í„°ë§ í•´ì•¼ í•œë‹¤.
const shopAds = shopAdCampaignList.filter(NonNullable);
```
