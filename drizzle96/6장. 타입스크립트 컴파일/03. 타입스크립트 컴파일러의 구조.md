## 6-3. νƒ€μ…μ¤ν¬λ¦½νΈ μ»΄νμΌμ κ³Όμ •

νƒ€μ…μ¤ν¬λ¦½νΈλ” λ‹¤μ„― λ‹¨κ³„λ¥Ό κ±°μ³ νƒ€μ… κ²€μ‚¬μ™€ μλ°”μ¤ν¬λ¦½νΈ νΈλμ¤νμΌμ„ μ§„ν–‰ν•λ‹¤.

![Alt text](./images/image-2.png)

### 1. ν”„λ΅κ·Έλ¨(Program)

- νƒ€μ…μ¤ν¬λ¦½νΈ μ»΄νμΌλ¬λ” tsc λ…λ Ήμ–΄λ΅ μ‹¤ν–‰λκ³ , μ»΄νμΌλ¬λ” tsconfig.jsonμ— λ…μ‹λ μµμ…μ„ κΈ°λ°μΌλ΅ μ»΄νμΌμ„ μν–‰ν•λ‹¤.
- λ¨Όμ € **μ „μ²΄μ μΈ μ»΄νμΌ κ³Όμ •μ„ κ΄€λ¦¬ν•λ” ν”„λ΅κ·Έλ¨ κ°μ²΄(μΈμ¤ν„΄μ¤)**λ¥Ό μƒμ„±ν•λ‹¤.
- ν”„λ΅κ·Έλ¨ κ°μ²΄λ” μ»΄νμΌν•  νƒ€μ…μ¤ν¬λ¦½νΈ μ†μ¤ νμΌκ³Ό μ†μ¤ νμΌ λ‚΄μ μ„ν¬νΈ νμΌμ„ λ¶λ¬μ™€ μ»΄νμΌ κ³Όμ •μ„ μ‹μ‘ν•λ‹¤.

### 2. μ¤μΊλ„(Scanner)

- μ¤μΊλ„λ” νƒ€μ…μ¤ν¬λ¦½νΈ μ†μ¤μ½”λ“λ¥Ό μ‘μ€ λ‹¨μ„λ΅ λ‚λ„μ–΄ **μλ―Έ μλ” ν† ν°**μΌλ΅ λ³€ν™ν•λ‹¤.
![Alt text](./images/image-3.png)

### 3. νμ„(Parser)

- νμ„λ” μ¤μΊλ„κ°€ λ§λ“  ν† ν°μ μ •λ³΄λ¥Ό μ΄μ©ν•μ—¬ **ASTλ¥Ό μƒμ„±**ν•λ‹¤.
- **AST(Abstract Syntax Tree)**: μ¶”μƒ λ¬Έλ²• νΈλ¦¬λ” μ»΄νμΌλ¬κ°€ λ™μ‘ν•λ” λ° ν•µμ‹¬ κΈ°λ°μ΄ λλ” μλ£ κµ¬μ΅°λ΅, μ†μ¤μ½”λ“μ κµ¬μ΅°λ¥Ό νΈλ¦¬ ν•νƒλ΅ ν‘ν„ν•λ‹¤.
- μ½”λ“μ μ‹¤μ§μ μΈ κµ¬μ΅°λ¥Ό λ…Έλ“ λ‹¨μ„μ νΈλ¦¬ ν•νƒλ΅ ν‘ν„ν•λ©°, κ°κ°μ λ…Έλ“λ” μ½”λ“μƒμ μ„μΉ, κµ¬λ¬Έ μΆ…λ¥, μ½”λ“ λ‚΄μ© λ“±μ μ •λ³΄λ¥Ό λ‹΄κ³  μλ‹¤.
![Alt text](./images/image-4.png)

### 4. λ°”μΈλ”(Binder)

- λ°”μΈλ”λ” μ²΄μ»¤ λ‹¨κ³„μ—μ„ νƒ€μ… κ²€μ‚¬λ¥Ό ν•  μ μλ” κΈ°λ°μ„ λ§λ ¨ν•κΈ° μ„ν•΄, **μ‹¬λ³Ό**μ΄λΌλ” λ°μ΄ν„° κµ¬μ΅°λ¥Ό μƒμ„±ν•λ‹¤.
- **μ‹¬λ³Ό(Symbol)**: μ„ μ–Έν• νƒ€μ…μ ASTμ—μ„μ λ…Έλ“ μ •λ³΄λ¥Ό μ €μ¥ν•λ‹¤.
- μ‹¬λ³Όμ μΈν„°νμ΄μ¤ μΌλ¶€
  ```ts
  export interface Symbol {
    flags: SymbolFlags; // Symbol flags
    escapedName: string; // Name of symbol
    declarations?: Declaration[]; // Declarations associated with this symbol
    // μ΄ν• μƒλµ...
  }
  ```
  - flags: μ„ μ–Έν• νƒ€μ…μ„ κµ¬λ¶„ν•λ” μ‹λ³„μ
    ```ts
    export const enum SymbolFlags {
      None = 0,
      FunctionScopedVariable = 1 << 0, // Variable (var) or parameter
      BlockScopedVariable = 1 << 1, // A block-scoped variable (let or const)
      Property = 1 << 2, // Property or enum member
      EnumMember = 1 << 3, // Enum member
      Function = 1 << 4, // Function
      Class = 1 << 5, // Class
      Interface = 1 << 6, // Interface
      // ...
      // π <<λ” λΉ„νΈμ—°μ‚°μμ΄λ‹¤.
      // 1 << 2λ” 0001μ„ 0100μΌλ΅ λΉ„νΈ μ΄λ™ν•λ” κ²ƒμ„ λ»ν•λ©° μ‹­μ§„μλ΅ 4μ΄λ‹¤.
    }
    ```
  - declarations: AST λ…Έλ“μ λ°°μ—΄ ν•νƒλ΅ μ‹¬λ³Όμ— λ€μ‘ν•λ” AST λ…Έλ“ μ •λ³΄λ¥Ό λ‹΄λ”λ‹¤.

![Alt text](./images/image-5.png)

### 5. μ²΄μ»¤(Checker) & μ΄λ―Έν„°(Emitter)

- **μ²΄μ»¤**λ” AST λ…Έλ“λ¥Ό νƒμƒ‰ν•λ©΄μ„ μ‹¬λ³Ό μ •λ³΄λ¥Ό λ¶λ¬μ™€ μ†μ¤μ½”λ“μ— λ€ν• **νƒ€μ… κ²€μ‚¬**λ¥Ό μ§„ν–‰ν•λ‹¤.
- **μ΄λ―Έν„°**λ” μ²΄μ»¤λ¥Ό ν†µν•΄ μ½”λ“μ— λ€ν• νƒ€μ… κ²€μ¦ μ •λ³΄λ¥Ό κ°€μ Έμ¨ ν›„ **μλ°”μ¤ν¬λ¦½νΈλ΅ νΈλμ¤νμΌ**μ„ μ§„ν–‰ν•λ‹¤.

μ΄λ―Έμ§€ μ¶μ²) "μ°μ•„ν• νƒ€μ…μ¤ν¬λ¦½νΈ with λ¦¬μ•΅νΈ", μ°μ•„ν•ν•μ λ“¤, ν•λΉ›λ―Έλ””μ–΄